<!DOCTYPE html>
<!--  /ajax1/src/main/webapp/20221020/ajax1.html -->
<html>
<head>
<meta charset="UTF-8">
<title>The XMLHttpRequest Object</title>
<script>
//GET 방식 : url?param 정보 
//          http://localhost:8088/jsp3/list?boardid=1
	function loadJspGet() {
		const xhttp = new XMLHttpRequest();
		const params = "?name=" + document.f.name.value
		xhttp.open("GET", "test1.jsp" + params)
		xhttp.send()
		// callBack : 함수이름
		// 콜백함수 : callBack()로 설정
		// 어떤 이벤트가 발생했거나 특정 시점에 도달했을 때 시스템에서 호출하는 함수
		xhttp.onreadystatechange = callBack
	}	
	//POST방식 : url
	//          param : http 프로토콜의 body부분에 추가
	function loadJspPost() { 
		const xhttp = new XMLHttpRequest();
		const params = "name=" + document.f.name.value
		xhttp.open("POST", "test1.jsp")
		//POST 방식에서 요청 header 부분 설정
		xhttp.setRequestHeader('Content-Type', 
				'application/x-www-form-urlencoded;charset=UTF-8');
		xhttp.send(params) //POST 방식에서 파라미터 전송
		xhttp.onreadystatechange = callBack
	}
	function callBack() {
		if (this.readyState == 4 && this.status == 200) {
			alert(this.responseText)
			document.getElementById("demo").innerHTML 
			= this.responseText
		}
	}
</script></head><body>
	<h2>XMLHttpRequest 객체</h2>
	<form name="f"><input type="text" name="name"></form>
	<button type="button" onclick="loadJspGet()">입력(get)</button>
	<button type="button" onclick="loadJspPost()">입력(post)</button>
	<div id="demo"></div>
</body></html>